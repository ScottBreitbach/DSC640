faces(bball[,2:16], ncolors = 0, labels = bball$Name)
# Put names to faces
faces(bball[,2:16], ncolors = 0, labels = bball$Name)
?faces
faces(bball[,2:16], ncolors = 0, labels = bball$Name, face.type = 2)
faces(bball[,2:16], ncolors = 0, labels = bball$Name, face.type = 1)
faces(bball[,2:16], ncolors = 0, labels = bball$Name, print.info = TRUE)
faces(bball[,2:16], ncolors = 0, labels = bball$Name, cex = 8)
faces(bball[,2:16], ncolors = 0, labels = bball$Name, cex = 0.8)
faces(bball[,2:16], ncolors = 0, labels = bball$Name, cex = 1)
# Load data
crime <-
read.csv('http://datasets.flowingdata.com/crimeRatesByState-formatted.csv')
head(crime)
# Create star charts
star(crime)
# Create star charts
stars(crime)
# Set row names to state names
row.names(crime) <- crime$state
crime <- crime[,2:7]
# Star charts
stars(crime, flip.labels = FALSE, key.loc = c(15, 1.5))
# Create star charts
stars(crime)
# Star charts
stars(crime, flip.labels = FALSE, key.loc = c(15, 1.5))
# Align labels and add a key
stars(crime, flip.labels = FALSE, key.loc = c(15, 1.5))
# Variations
# Resturct all data to the top half of the circle
stars(crime, flip.labels = FALSE, key.loc = c(15, 1.5), full = FALSE)
# Nightingale charts
stars(crime, flip.labels = FALSE, key.loc = c(15, 1.5), draw.segments = FALSE)
# Nightingale charts
stars(crime, flip.labels = FALSE, key.loc = c(15, 1.5), draw.segments = TRUE)
# Load data
url <- "http://datasets.flowingdata.com/education.csv"
education <- read.csv(url, header = TRUE)
education[1:10,]
# Load library
library(lattice)
# Create parallel coordinates plot
parallel(education)
# Create parallel coordinates plot
parallelplot(education)
# Flip on axis
parallelplot(education, horizontal.axis=FALSE)
# Remove state column & change colors to black
parallelplot(education[,2:7], horizontal.axis=FALSE, col = '#000000')
summary(education)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#cccccc'
}
reading_colors <- c(reading_colors, col)
}
head(education)
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#737373'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#525252'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#525252'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#737373'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#969696'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#bdbdbd'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#cccccc'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#bdbdbd'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#bdbdbd'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#767676'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
# set colors for each state by greater or less than median reading score
reading_colors <- c()
for (i in 1:length(education$state)) {
if(education$reading[i] >523) {
col <- '#000000'
} else {
col <- '#bdbdbd'
}
reading_colors <- c(reading_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = reading_colors)
for (i in 1:length(education$state)) {
if(education$dropout_rate[i] > 5.3) {
col <- '#000000'
} else {
col <- '#bdbdbd'
}
dropout_colors <- c(dropout_colors, col)
}
# set colors based on dropout rates
dropout_colors <- c()
for (i in 1:length(education$state)) {
if(education$dropout_rate[i] > 5.3) {
col <- '#000000'
} else {
col <- '#bdbdbd'
}
dropout_colors <- c(dropout_colors, col)
}
# Pass the colors in to the parallel function
parallelplot(education[,2:7], horizontal.axis=FALSE, col = dropout_colors)
# Load data
url <- "http://datasets.flowingdata.com/education.csv"
education <- read.csv(url, header = TRUE)
# Figure out how far each state should be from each other
ed.dis <- dist(education[,2:7])
ed.dis
# get x-y coordinates for each state
ed.mds <- cmdscale(ed.dis)
ed.mds
# store these values in x and y variables
x <- ed.mds[,1]
y <- ed.mds[,2]
plot(x, y)
# add labels
plot(x, y, type='n')
text(x, y, labels = education$state)
plot(x, y, type='n')
text(x, y, labels = education$state, col = reading_colors)
plot(x, y, type='n')
text(x, y, labels = education$state, col = dropout_colors)
## Model-based clustering
library(mclust)
ed.mclust <- Mclust(ed.mds)
# plot
plot(ed.mclust, data = ed.mds)
# plot
plot(ed.mclust, data = ed.mds)
# plot
plot(ed.mclust, data = ed.mds)
# plot
plot(ed.mclust, data = ed.mds)
# get x-y coordinates for each state
ed.mds <- cmdscale(ed.dis)
# fit
ed.mclust <- Mclust(ed.mds)
# plot
plot(ed.mclust, data = ed.mds)
# fit
ed.mclust <- Mclust(ed.mds)
# plot
plot(ed.mclust, data = ed.mds)
# Set Working Directory
setwd("C:/Users/micha/OneDrive/Documents/GitHub/DSC640/Weeks9-10/")
# Load libraries
library(ggplot2)
# Load data
costcos <- read.csv("costcos-geocoded.csv", header = TRUE)
ballers <- read.csv("ppg2008.csv", header = TRUE)
head(costcos)
head(ballers)
?read.csv
ballers <- read.csv("ppg2008.csv", header = TRUE, row.names = 1)
head(ballers)
# Store data as a matrix for heatmap
baller_matrix <- data.matrix(ballers)
# Pick a different color scheme
bball_heatmap <- heatmap(baller_matrix, Rowv = NA, Colv = NA,
col = heat.colors(256),  # sets colors to red / yellow
scale = 'column', margins = c(5,10))
# Load library
# install.packages('maps')
library(maps)
# Load data
url <- 'http://book.flowingdata.com/ch08/geocode/costcos-geocoded.csv'
costcos <- read.csv(url, sep = ',')
head(costcos)
# Make the map
map(database = 'state')
# Add the costcos
symbols(costcos$Longitude, costcos$Latitude,
circles = rep(1, length(costcos$Longitude)),
inches = 0.04,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
# Change the colors of the map and the circles
map(database = 'state',
col = '#cccccc')    # gray
symbols(costcos$Longitude, costcos$Latitude,
bg = '#e2373f', # red
fg = '#ffffff', # white
lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
# Set to 'world' map to see alaska and hawaii
map(database = 'world', col = '#cccccc')
symbols(costcos$Longitude, costcos$Latitude,
bg = '#e2373f', fg = '#ffffff', lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05, add = TRUE)
# Get just a few states with the `region=` argument
map(database = 'state', col = '#cccccc',
region = c('California', 'Nevada', 'Oregon', 'Washington'))
symbols(costcos$Longitude, costcos$Latitude,
bg = '#e2373f', fg = '#ffffff', lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05, add = TRUE)
# Change the colors of the map and the circles
map(database = 'state',
col = '#cccccc')    # gray
symbols(costcos$Longitude, costcos$Latitude,
bg = '#e2373f', # red
fg = '#ffffff', # white
lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
# Change the colors of the map and the circles
map(database = 'state',
col = '#cccccc')    # gray
symbols(costcos$Longitude, costcos$Latitude,
bg = '#e2373f', # red
fg = '#ffffff', # white
lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
# Make the map
map(database = 'state',
col = '#cccccc')    # gray
# Add the Costcos
symbols(costcos$Longitude, costcos$Latitude,
bg = '#005DAA', # costco blue
fg = '#E31837', # white
lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
# Make the map
map(database = 'state',
col = '#E31837')    # gray
# Add the Costcos
symbols(costcos$Longitude, costcos$Latitude,
bg = '#005DAA', # costco blue
fg = '#ffffff', # white
lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
# show contour only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
geom_density2d()
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
geom_density2d(aes(fill = ..level..), geom = 'polygon')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
geom_density2d(aes(fill = ..level..), geom = 'polygon', color='white')
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white')
# using raster
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..density..), geom = 'raster', contour = FALSE) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme(legend.position = 'none')
# using raster
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..density..), geom = 'raster', contour = FALSE) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) #+
# using raster
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..density..), geom = 'raster', contour = FALSE) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme(legend.position = 'none')
# using raster
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..density..), geom = 'raster', contour = FALSE, color='white') +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme(legend.position = 'none')
# using raster
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..density..), geom = 'raster', contour = FALSE) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme(legend.position = 'none')
# show contour only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
geom_density2d()
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white')
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='E31837')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='#E31837')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white') +
theme(legend.position = 'none')
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon')
# show contour only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
geom_density2d()
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white') +
theme(legend.position = 'none')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white') +
theme(legend.position = 'none')
## SPATIAL CHART
# Make the map
map(database = 'state',
col = '#E31837')    # costco red
# Add the Costcos
symbols(costcos$Longitude, costcos$Latitude,
bg = '#005DAA', # costco blue
fg = '#ffffff', # white
lwd = 0.1,
circles = rep(1, length(costcos$Longitude)),
inches = 0.05,  # size of circles
add = TRUE)     # add each to map instead of crating new plot
## CONTOUR PLOT
# show contour only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
geom_density2d()
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon')
# area + contour
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon', color='white') +
theme(legend.position = 'none')
# # using raster
# ggplot(costcos, aes(x=Longitude, y=Latitude)) +
#   stat_density2d(aes(fill = ..density..), geom = 'raster', contour = FALSE) +
#   scale_x_continuous(expand = c(0, 0)) +
#   scale_y_continuous(expand = c(0, 0)) +
#   theme(legend.position = 'none')
ggplot(balle4rs, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
theme(legend.position = 'none')
# show area only
ggplot(costcos, aes(x=Longitude, y=Latitude)) +
stat_density2d(aes(fill = ..level..), geom = 'polygon') +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "Spectral", direction=1)
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "Spectral", direction=1) +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "heat", direction=1) +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "heat", direction=1) +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "heat", direction=-1) +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "heat", direction=1) +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "heat.colors", direction=1) +
theme(legend.position = 'none')
ggplot(ballers, aes(x=PTS, y=FGP)) +
stat_density_2d(aes(fill = ..level..), geom = 'polygon') +
scale_fill_distiller(palette= "YlOrRd", direction=1) +
theme(legend.position = 'none')
